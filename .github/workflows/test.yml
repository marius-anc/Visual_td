name: Trigger Azure DevOps Pipeline

on:
  push:
    branches:
      - main   # adjust this branch if needed
  workflow_dispatch: # allows manual trigger

jobs:
  trigger-pipeline:
    runs-on: ubuntu-latest

    steps:
      - name: Trigger Azure DevOps Pipeline
        uses: azure/pipelines@v1.2
        with:
          azure-devops-project-url: https://dev.azure.com/mariusancutescu/Bosch-assigment
          azure-pipeline-name: testgh
          azure-devops-token: ${{ secrets.AZURE_DEVOPS_TOKEN }}
          azure-pipeline-variables: |
            {'str': 'din github'}